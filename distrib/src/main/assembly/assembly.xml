<assembly
    xmlns="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2 http://maven.apache.org/xsd/assembly-1.1.2.xsd">
    <id>bin</id>
    <formats>
        <format>zip</format>
    </formats>
    <includeBaseDirectory>false</includeBaseDirectory>

    <dependencySets>
        <dependencySet>
            <outputDirectory>/lib</outputDirectory>
            <unpack>false</unpack>
            <scope>runtime</scope>
            <includes>
                <include>org.apache.commons:commons-lang3</include>
                <include>commons-logging:commons-logging</include>
                <include>commons-collections:commons-collections</include>  
                <include>commons-pool:commons-pool</include>
                <include>commons-codec:commons-codec</include> 
                <include>commons-httpclient:commons-httpclient</include>                    
                <include>javax.security.jacc:javax.security.jacc-api</include>
                <include>org.jboss.portal.common:common-common</include>
                <include>org.jboss.portal.common:common-portal</include>
                <include>javax.activation:activation</include>
                <include>javax.ccpp:ccpp</include>
                <include>javax.portlet:portlet-api</include>
                <include>dom4j:dom4j</include> 
                <include>quartz:quartz</include>   
                <include>org.jgroups:jgroups</include> 
                <include>org.jboss.portal.portlet:portlet-portlet</include>
                <include>org.jboss.portal.web:web-web</include>                
                <include>xerces:xercesImpl</include>  
                <include>xml-apis:xml-apis</include>  
                <include>xml-resolver:xml-resolver</include>  
                <include>taglibs:standard</include>  
                <include>javax.transaction:jta</include>  
                <include>org.osivia.portal.api:osivia-portal-api-common:jar:${project.version}</include>
                <include>org.osivia.portal.api:osivia-portal-api-cms:jar:${project.version}</include>
                <include>org.osivia.portal.kernel:osivia-portal-kernel-jbp-lib:jar:${project.version}</include>
                <include>org.osivia.portal.kernel.tomcat:osivia-portal-tomcat-lib:jar:${project.version}</include>
                <include>org.springframework:spring-aop</include>
                <include>org.springframework:spring-beans</include>
                <include>org.springframework:spring-context</include>
                <include>org.springframework:spring-core</include>
                <include>org.springframework:spring-expression</include>
                <include>org.springframework:spring-web</include>
                <include>org.springframework:spring-aop</include>                
                <include>org.springframework:spring-webmvc</include>
                <include>org.osivia.portal.kernel:osivia-portal-kernel-spring-mvc-portlet</include>
                <include>org.springframework:spring-context-support</include>
                <include>org.springframework:spring-tx</include>                                  
                <include>org.springframework.security:spring-security-core</include>
                <include>org.springframework.security:spring-security-web</include>              
                <include>org.springframework.security:spring-security-config</include>              
                <include>org.springframework.security:spring-security-taglibs</include>              
                <include>org.springframework.security.oauth:spring-security-oauth2</include> 
             	<include>org.springframework.ldap:spring-ldap-core</include>  
             	<include>org.springframework.ldap:spring-ldap-core</include>     
                <include>net.sf.ehcache:ehcache</include> 
                <include>aopalliance:aopalliance</include>   
                <include>javax.servlet:jstl</include>
                <include>javax.mail:mail</include>     
                 <!-- Rest services --> 
                <include>org.apache.httpcomponents:httpclient</include>
                <include>org.apache.httpcomponents:httpcore</include>
                <include>com.fasterxml.jackson.core:jackson-core:jar:${jackson.version}</include>     
                <include>com.fasterxml.jackson.core:jackson-databind:jar:${jackson.version}</include>                    
                <include>com.fasterxml.jackson.core:jackson-annotations:jar:${jackson.version}</include>  
                
                <!-- Java Melody -->
                <include>org.osivia.services:osivia-services-java-melody-integration:jar:${java-melody.version}</include>            
                <include>org.jrobin:jrobin</include>        
                <include>net.bull.javamelody:javamelody-core</include>            
       
             </includes>
        	</dependencySet> 
        	
            <dependencySet>
	            <outputDirectory>/log4j2/lib</outputDirectory>
	            <unpack>false</unpack>
	            <scope>runtime</scope>
	            <includes>
	                <include>org.apache.logging.log4j:log4j-api</include>
	                <include>org.apache.logging.log4j:log4j-core</include>
	                <include>org.apache.logging.log4j:log4j-web</include>          
					<include>org.apache.logging.log4j:log4j-jcl</include>                
	                <include>org.apache.logging.log4j:log4j-slf4j-impl</include>
	                <include>org.apache.logging.log4j:log4j-appserver</include>
	                <include>org.apache.logging.log4j:log4j-1.2-api</include>                
					<include>org.slf4j:slf4j-api</include>                       
             	</includes>
        	</dependencySet> 
        <dependencySet>
            <outputDirectory>/webapps</outputDirectory>
            <unpack>false</unpack>
            <scope>runtime</scope>
 			<includes>
                <include>org.osivia.portal.portlets:osivia-portal-portlets-sample:war:${project.version}</include>
 <!--                <include>org.osivia.portal.portlets:osivia-portal-portlets-react:war:${project.version}</include> -->
                <include>org.osivia.portal.portlets:osivia-portal-portlets-cms:war:${project.version}</include>
                <include>org.osivia.portal.themes:osivia-portal-themes-generic:war:${project.version}</include>
 <!--                <include>org.osivia.portal.ws:osivia-portal-ws:war:${project.version}</include> -->
             </includes>
            <useProjectArtifact>false</useProjectArtifact>
            <outputFileNameMapping>${artifact.artifactId}.${artifact.extension}</outputFileNameMapping>                        
        </dependencySet> 
        <dependencySet>
            <outputDirectory>/webapps</outputDirectory>
            <unpack>false</unpack>
            <scope>runtime</scope>
 			<includes>
                <include>org.osivia.portal.kernel.tomcat:osivia-portal-tomcat-web:war:${project.version}</include>
             </includes>
             <outputFileNameMapping>portal.war</outputFileNameMapping>       
        </dependencySet>   
        <dependencySet>
            <outputDirectory>/webapps</outputDirectory>
            <unpack>false</unpack>
            <scope>runtime</scope>
 			<includes>
                <include>org.osivia.portal.kernel.tomcat:osivia-portal-tomcat-assets:war:${project.version}</include>
             </includes>
             <outputFileNameMapping>portal-assets.war</outputFileNameMapping>       
        </dependencySet>           
    </dependencySets>

    <fileSets>
		<fileSet>
		    <directory>logs</directory>
		</fileSet>    
		<fileSet>
			<outputDirectory>/</outputDirectory>
			<directory>src/main/resources</directory>

		</fileSet>		
     </fileSets>

</assembly>
